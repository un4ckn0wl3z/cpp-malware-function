// dllmain.cpp : 
#include "stdafx.h"

HMODULE g_hDllModule = NULL;

extern "C" __declspec(dllexport)
DWORD WINAPI MessageBoxThread(LPVOID lpParam) {
	::MessageBoxA(NULL, "ANUWAT INFECTED YOUR PC.", "VIRUS", NULL);
	return 0;
}

extern "C" __declspec(dllexport)
BOOL APIENTRY DllMain(HMODULE hModule,
DWORD  ul_reason_for_call,
LPVOID lpReserved
)
{
	switch (ul_reason_for_call)
	{
	case DLL_PROCESS_ATTACH:
	{

		g_hDllModule = hModule;
		::CreateThread(NULL, NULL, MessageBoxThread, NULL, NULL, NULL);
		break;
	}
	case DLL_THREAD_ATTACH:
	case DLL_THREAD_DETACH:
	case DLL_PROCESS_DETACH:
		break;
	}
	return TRUE;
}

